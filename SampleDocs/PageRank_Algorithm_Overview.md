---
links:
  Spreading_Activation_Model: 0.512
  Knowledge_Graph_and_RAG: 0.487
---
# PageRankアルゴリズムとネットワーク分析

## 1. PageRankの誕生
PageRankは、スタンフォード大学に在籍していたラリー・ペイジとセルゲイ・ブリン（Googleの創業者）によって1998年に開発された、ウェブページの重要度を測定するためのアルゴリズムです。
初期の検索エンジンは主にページ内に含まれるキーワードの頻度（TF-IDFなど）で順位付けをしていましたが、スパムに弱く、検索意図を満たす有用なページを上位に表示するのが困難でした。
PageRankは「多くの良質なページからリンクされているページは、それ自身も良質なページである」という再帰的な着眼点により、ウェブ検索の精度に革命をもたらしました。

## 2. ランダムサーファーモデル (Random Surfer Model)
PageRankの直感的な理解には「ランダムサーファーモデル」がよく用いられます。
ウェブブラウザを開いたユーザーが、現在のページにあるリンクをランダムにクリックし続けるという仮定のモデルです。
無限の時間をかけてクリックし続けた場合、ユーザーが特定のページに滞在している確率（時間割合）が、そのままそのページのPageRankスコアとなります。リンクが集まっているページほど、ランダムに辿り着きやすいためスコアが高くなります。

### ダンピングファクター（Damping Factor）
ランダムサーファーは、リンクを辿るだけでなく、ある確率で唐突に全く関係のない別のページへジャンプする（ブラウザのURLバーに直接アドレスを打ち込むような行動）と仮定されます。
このジャンプが発生する確率を決定するのがダンピングファクター（通常 `d = 0.85`）です。これによって、閉じたリンクのループにトラップされるのを防ぎ、ネットワーク全体のスコア計算が安定（収束）します。

## 3. PageRankの数学的表現
N個のページからなるネットワークにおける、ページAのPageRank値 $PR(A)$ は以下の式で近似できます。

$$ PR(A) = \frac{1-d}{N} + d \sum_{i \in M(A)} \frac{PR(T_i)}{C(T_i)} $$

* $d$ : ダンピングファクター (例: 0.85)
* $N$ : ネットワーク内の総ページ数
* $M(A)$ : ページAへリンクしているページの集合
* $PR(T_i)$ : ページ $T_i$ のPageRankスコア
* $C(T_i)$ : ページ $T_i$ が持つアウトバウンドリンク（外向きのリンク）の総数

ページAは、リンク元 $T_i$ が持つ重みを、そのリンク元の持つリンク総数で割った分だけ受け取ります。

## 4. Personalized PageRank (PPR)
通常のPageRankがネットワーク全体の「絶対的な重要度」を測るのに対し、特定のユーザーや文脈に依存した「相対的な重要度」を測る拡張版が **Personalized PageRank (PPR)** です。
PPRでは、ランダムサーファーが唐突にジャンプする先を「ネットワーク全体の全ページ」から「事前定義された特定のシードノード（Seed Nodes）の集合」に制限します。

### ローカルメモリ・AIへの応用
PPRは、ローカルAIにおけるコンテキスト抽出に非常に適しています。
ユーザーの直近の入力や現在開いているファイルを「シードノード」に設定し、PPRを計算します。これにより、単純なベクトル類似度だけでは見つからない、「現在の作業文脈に強く関連しており、かつ（そのユーザーのナレッジグラフにおいて）構造的に重要度の高いノート」を効果的に浮かび上がらせることができます。
これは人間の脳の「文脈依存の記憶の引き出し」に極めて近い挙動を実現します。

* AI連想リンク: [[Knowledge_Graph_and_RAG]]